name: main
inputs:
- annotations: {}
  type: ArrayInput
  items_type: string
  name: model-names
  default: null
  description: null
- annotations: {}
  type: FolderInput
  name: models-folder
  description: A folder full of honeybee models
  default: null

tasks:

- name: daylight-factor
  template: daylight-factor
  loop:
    from:
      type: inputs
      variable: model-names
  sub_folder: 'daylight-factor/{{item}}'
  arguments:
    artifacts:
    - name: model
      from:
        type: inputs
        variable: models-folder
      subpath: '{{item}}/model'
    - name: input-grid
      from:
        type: inputs
        variable: models-folder
      subpath: '{{item}}/grid'
  outputs:
    parameters:
    - name: average

outputs:
  artifacts:
  - name: daylight-factor-grids
    from:
      type: folder
      path: daylight-factor


      